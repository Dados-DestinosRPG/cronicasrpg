<form class="{{cssClass}} flexcol" autocomplete="off">

  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100" />
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name" /></h1>
      {{!-- The grid classes are defined in scss/global/_grid.scss. To use,
      use both the "grid" and "grid-Ncol" class where "N" can be any number
      from 1 to 12 and will create that number of columns. --}}
      <div class="resources grid grid-2col">
        {{!-- "flex-group-center" is also defined in the _grid.scss file
        and it will add a small amount of padding, a border, and will
        center all of its child elements content and text. --}}
        <div class="infos resource flex-group-center">
          <input type="text" name="data.pontos.ela.valor" value="{{data.pontos.ela.valor}}" data-dtype="Number" />
          {{localize 'cronicasrpg.ela'}}</label>
          <input type="text" name="data.pontos.recursos" value="{{data.pontos.recursos}}" data-dtype="Number" />
          {{localize 'cronicasrpg.recursos'}}</label>
          <input type="text" name="data.pontos.status" value="{{data.pontos.status}}" data-dtype="Number" />
          {{localize 'cronicasrpg.status'}}</label>
        </div>
        <div class="infos resource flex-group-center">
          <label>
            <input type="text" name="data.penalidades.ferimento" value="{{data.penalidades.ferimento}}"
              data-dtype="String" />
            {{localize 'cronicasrpg.ferimento'}}
          </label>
          <label>
            <input type="text" name="data.penalidades.hesitacao" value="{{data.penalidades.hesitacao}}"
              data-dtype="String" />
            {{localize 'cronicasrpg.hesitacao'}}
          </label>
          <label>
            <input type="text" name="data.penalidades.frustracao" value="{{data.penalidades.frustracao}}"
              data-dtype="String" />
            {{localize 'cronicasrpg.frustracao'}}
          </label>
        </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="attributes">{{localize 'cronicasrpg.atributos'}}</a>
    <a class="item" data-tab="combat">{{localize 'cronicasrpg.combate'}}</a>
    <a class="item" data-tab="personality">{{localize 'cronicasrpg.personalidade'}}</a>
    <a class="item" data-tab="biography">{{localize 'cronicasrpg.biografia'}}</a>
    <a class="item" data-tab="goods">{{localize 'cronicasrpg.posses'}}</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{!-- Attributes Tab --}}
    <div class="tab attributes" data-group="primary" data-tab="attributes">
      <div class="grid grid-5col">
        <img class="die-icon rollable" data-roll="1d6" src="systems/cronicasrpg/assets/d6.ico" />
        <label>
          <input type="text" name="data.pontos.experiencia.inicial" value="{{data.pontos.experiencia.inicial}}"
            data-dtype="Number" />
          {{localize 'cronicasrpg.experiencia.inicial'}}
        </label>
        <label>
          <input type="text" name="data.pontos.experiencia.valor" value="{{data.pontos.experiencia.valor}}"
            data-dtype="Number" />
          {{localize 'cronicasrpg.experiencia.atual'}}
        </label>
        <label>
          <input type="text" name="data.pontos.experiencia.gasta" value="{{data.pontos.experiencia.gasta}}"
            data-dtype="Number" />
          {{localize 'cronicasrpg.experiencia.gasta'}}
        </label>
        <label>
          <input type="text" name="data.pontos.experiencia.resto" value="{{data.pontos.experiencia.resto}}"
            data-dtype="Number" />
          {{localize 'cronicasrpg.experiencia.resto'}}
        </label>
      </div>
      <div class="grid grid-2col">
        {{#each data.atributos as |atributo key|}}
        <div class="flex-group-center">
          <button class="accordion" id="accordion-{{key}}">{{atributo.label}} {{atributo.total}}</button>
          <div class="panel" id="panel-{{key}}" style="display:none">
            <div class="grid grid-2col">
              <p class="rollable" data-roll="{{atributo.total}}d6" data-label="{{atributo.label}}">{{atributo.label}}
                {{atributo.total}}</p>
              <input type="text" name="data.atributos.{{key}}.valor" value="{{atributo.valor}}" data-dtype="Number" />
            </div>
            {{#each atributo.especializacoes as |especializacao ekey|}}
            <div class="grid grid-2col">
              <p class="rollable" data-roll="{{especializacao.total}}d6" data-label="{{especializacao.label}}">
                {{especializacao.label}}
                {{especializacao.total}}</p>
              <input type="text" name="data.atributos.{{key}}.especializacoes.{{ekey}}.valor"
                value="{{especializacao.valor}}" data-dtype="Number" />
            </div>
            {{/each}}
          </div>
        </div>
        {{/each}}
      </div>
    </div>

    {{!-- Combat Tab --}}
    <div class="tab combat" data-group="primary" data-tab="combat">

    </div>

    {{!-- Personality Tab --}}
    <div class="tab personality" data-group="primary" data-tab="personality">
      <div class="grid grid-2col">
        <div class="virtudes">
          <ol class="items-list">
            <li class="item flexrow item-header flex-center">
              <div>Virtudes</div>
            </li>
            <li class="item flexrow item-header">
              <div class="item-name">Nome</div>
              <div class="item-controls">
                <a class="item-control item-create" title="Nova virtude" data-type="virtude"><i class="fas fa-plus"></i>
                  Novo</a>
              </div>
            </li>
            {{#each actor.virtudes as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="item-image" style="background-image: url('{{item.img}}')"></div>
              <span class="rollable poder-rollable" data-label="{{item.name}}">
                <h4 class="item-name">{{item.name}}</h4>
              </span>
              <div class="item-controls">
                <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
              </div>
            </li>
            {{/each}}
          </ol>
        </div>
        <div class="fraquezas">
          <ol class="items-list">
            <li class="item flexrow item-header flex-center">
              <div>Fraquezas</div>
            </li>
            <li class="item flexrow item-header">
              <div class="item-name">Nome</div>
              <div class="item-controls">
                <a class="item-control item-create" title="Nova fraqueza" data-type="fraqueza"><i
                    class="fas fa-plus"></i>
                  Novo</a>
              </div>
            </li>
            {{#each actor.fraquezas as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="item-image" style="background-image: url('{{item.img}}')"></div>
              <span class="rollable poder-rollable" data-label="{{item.name}}">
                <h4 class="item-name">{{item.name}}</h4>
              </span>
              <div class="item-controls">
                <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
              </div>
            </li>
            {{/each}}
          </ol>
        </div>
      </div>
    </div>

    {{!-- Biography Tab --}}
    <div class="tab biography" data-group="primary" data-tab="biography">
      <div class="grid grid-4col">
        <div class="infos resource flex-group-center">
          <input type="text" name="data.info.povo" value="{{data.info.povo}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.povo'}}</label>
          <input type="text" name="data.info.cabelos" value="{{data.info.cabelos}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.cabelos'}}</label>
          <input type="text" name="data.info.olhos" value="{{data.info.olhos}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.olhos'}}</label>
        </div>
        <div class="infos resource flex-group-center">
          <input type="text" name="data.info.morada" value="{{data.info.morada}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.morada'}}</label>
          <input type="text" name="data.info.patrono" value="{{data.info.patrono}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.patrono'}}</label>
          <input type="text" name="data.info.lealdade" value="{{data.info.lealdade}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.lealdade'}}</label>
        </div>
        <div class="infos resource flex-group-center">
          <input type="text" name="data.info.devocao" value="{{data.info.devocao}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.devocao'}}</label>
          <input type="text" name="data.info.ocupacao" value="{{data.info.ocupacao}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.ocupacao'}}</label>
          <input type="text" name="data.info.posicao" value="{{data.info.posicao}}" data-dtype="String" />
          {{localize 'cronicasrpg.info.posicao'}}</label>
        </div>
        <div class="infos resource flex-group-center">
          <input type="text" name="data.info.idade" value="{{data.info.idade}}" data-dtype="Number" />
          {{localize 'cronicasrpg.info.idade'}}</label>
          <input type="text" name="data.info.altura" value="{{data.info.altura}}" data-dtype="Number" />
          {{localize 'cronicasrpg.info.altura'}}</label>
          <input type="text" name="data.info.peso" value="{{data.info.peso}}" data-dtype="Number" />
          {{localize 'cronicasrpg.info.peso'}}</label>
        </div>
      </div>
      <div class="infos resource flex-group-center">
        <textarea type="text" class="smallTextArea" name="data.info.aparencia"
          data-dtype="String">{{data.info.aparencia}}</textarea>
        {{localize 'cronicasrpg.info.aparencia'}}</label>
      </div>
      <div class="infos resource flex-group-center">
        <textarea type="text" class="smallTextArea" name="data.biografia.comportamento"
          data-dtype="String">{{data.biografia.comportamento}}</textarea>
        {{localize 'cronicasrpg.bio.comportamento'}}</label>
      </div>
      <div class="infos resource flex-group-center">
        <textarea type="text" class="largeTextArea" name="data.biografia.historico"
          data-dtype="String">{{data.biografia.historico}}</textarea>
        {{localize 'cronicasrpg.bio.historico'}}</label>
      </div>
    </div>

    {{!-- Goods Tab --}}
    <div class="tab goods" data-group="primary" data-tab="goods">

    </div>

  </section>

  <script>
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function () {
        /* Toggle between adding and removing the "active" class,
        to highlight the button that controls the panel */
        this.classList.toggle("active");

        /* Toggle between hiding and showing the active panel */
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
          panel.style.display = "none";
        } else {
          panel.style.display = "block";
        }
      });
    }
  </script>

</form>